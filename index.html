<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#FF6B6B">
    <meta name="description" content="–ó–∞–∫–∞–∑ –µ–¥—ã –æ–Ω–ª–∞–π–Ω">
    <link rel="manifest" href="manifest.json">
    <title>FoodHub - –î–æ—Å—Ç–∞–≤–∫–∞ –µ–¥—ã</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.05) 0%, rgba(254, 202, 87, 0.05) 100%);
            min-height: 100vh;
            padding-bottom: 80px;
        }

        .header {
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
            padding: 20px;
            border-radius: 0 0 32px 32px;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
            color: white;
            margin-bottom: 20px;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .header-title h1 {
            font-size: 24px;
            font-weight: bold;
        }

        .header-title p {
            font-size: 14px;
            opacity: 0.8;
            margin-top: 4px;
        }

        .notification-icon {
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
        }

        .search-box {
            background: white;
            padding: 12px 16px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .search-box input {
            border: none;
            outline: none;
            flex: 1;
            font-size: 16px;
        }

        .categories {
            padding: 0 16px 16px;
            display: flex;
            gap: 12px;
            overflow-x: auto;
            scrollbar-width: none;
        }

        .categories::-webkit-scrollbar {
            display: none;
        }

        .category-btn {
            padding: 12px 24px;
            border-radius: 25px;
            border: none;
            background: white;
            font-size: 15px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s;
        }

        .category-btn.active {
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
            font-weight: bold;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            padding: 0 16px;
            margin-bottom: 20px;
        }

        .menu-item {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
            cursor: pointer;
            transition: transform 0.2s;
        }

        .menu-item:active {
            transform: scale(0.95);
        }

        .menu-item-image {
            width: 100%;
            height: 140px;
            object-fit: cover;
            position: relative;
        }

        .menu-item-rating {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255, 255, 255, 0.95);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }

        .menu-item-info {
            padding: 12px;
        }

        .menu-item-name {
            font-weight: bold;
            font-size: 15px;
            margin-bottom: 4px;
        }

        .menu-item-description {
            font-size: 11px;
            color: #666;
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .menu-item-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .menu-item-price {
            font-size: 18px;
            font-weight: bold;
            color: #FF6B6B;
        }

        .add-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
            color: white;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(255, 107, 107, 0.3);
        }

        .cart-list {
            padding: 16px;
        }

        .cart-item {
            background: white;
            border-radius: 20px;
            padding: 12px;
            margin-bottom: 12px;
            display: flex;
            gap: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            border-radius: 16px;
            object-fit: cover;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: bold;
            font-size: 15px;
            margin-bottom: 4px;
        }

        .cart-item-price {
            color: #666;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(255, 107, 107, 0.1);
            padding: 8px;
            border-radius: 12px;
            margin-top: 8px;
        }

        .cart-item-btn {
            width: 32px;
            height: 32px;
            border: none;
            background: transparent;
            font-size: 18px;
            cursor: pointer;
            color: #FF6B6B;
        }

        .cart-total {
            position: fixed;
            bottom: 80px;
            left: 0;
            right: 0;
            background: white;
            padding: 24px;
            border-radius: 32px 32px 0 0;
            box-shadow: 0 -5px 30px rgba(0, 0, 0, 0.1);
        }

        .cart-total-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .cart-total-label {
            font-size: 16px;
            color: #666;
        }

        .cart-total-amount {
            font-size: 32px;
            font-weight: bold;
            color: #FF6B6B;
        }

        .checkout-btn {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 20px;
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
            color: white;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            border-radius: 24px 24px 0 0;
            box-shadow: 0 -2px 20px rgba(0, 0, 0, 0.1);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            padding: 8px 16px;
            border-radius: 12px;
            transition: all 0.3s;
        }

        .nav-item.active {
            color: #FF6B6B;
        }

        .nav-item-icon {
            font-size: 24px;
            position: relative;
        }

        .nav-badge {
            position: absolute;
            top: -6px;
            right: -6px;
            background: #FF6B6B;
            color: white;
            font-size: 10px;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 10px;
        }

        .nav-item-label {
            font-size: 12px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 24px;
            padding: 24px;
            max-width: 400px;
            width: 100%;
        }

        .modal-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .modal-icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 12px;
            font-size: 32px;
            color: white;
        }

        .modal-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .modal-subtitle {
            color: #666;
        }

        .input-group {
            margin-bottom: 16px;
        }

        .input-group input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 16px;
            font-size: 16px;
            outline: none;
            transition: border 0.3s;
        }

        .input-group input:focus {
            border-color: #FF6B6B;
        }

        .modal-buttons {
            display: flex;
            gap: 12px;
        }

        .modal-btn {
            flex: 1;
            padding: 16px;
            border-radius: 16px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .modal-btn-cancel {
            border: 2px solid #FF6B6B;
            background: white;
            color: #FF6B6B;
        }

        .modal-btn-submit {
            border: none;
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 20px;
            text-align: center;
        }

        .empty-icon {
            font-size: 80px;
            margin-bottom: 16px;
            opacity: 0.3;
        }

        .empty-title {
            font-size: 22px;
            font-weight: bold;
            color: #666;
            margin-bottom: 8px;
        }

        .empty-text {
            color: #999;
        }

        .admin-orders {
            padding: 16px;
        }

        .order-card {
            background: white;
            border-radius: 20px;
            padding: 16px;
            margin-bottom: 16px;
            border: 2px solid #e0e0e0;
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .order-number {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
        }

        .order-info {
            flex: 1;
            margin-left: 12px;
        }

        .order-customer {
            font-weight: bold;
            font-size: 18px;
        }

        .order-total {
            font-size: 20px;
            font-weight: bold;
            color: #FF6B6B;
        }

        .order-status {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin-top: 8px;
        }

        .status-pending { background: rgba(255, 167, 38, 0.2); color: #FFA726; }
        .status-confirmed { background: rgba(66, 165, 245, 0.2); color: #42A5F5; }
        .status-preparing { background: rgba(156, 39, 176, 0.2); color: #9C27B0; }
        .status-ready { background: rgba(102, 187, 106, 0.2); color: #66BB6A; }
        .status-delivered { background: rgba(120, 144, 156, 0.2); color: #78909C; }

        .order-details {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #e0e0e0;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            font-size: 14px;
        }

        .status-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }

        .status-btn {
            padding: 8px 16px;
            border-radius: 20px;
            border: none;
            font-size: 13px;
            cursor: pointer;
            background: #f0f0f0;
            color: #666;
            transition: all 0.3s;
        }

        .status-btn.active {
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
            color: white;
            box-shadow: 0 4px 10px rgba(255, 107, 107, 0.3);
        }

        .hidden {
            display: none !important;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }
    </style>
</head>
<body>
    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–µ–Ω—é -->
    <div id="menuPage" class="page active">
        <div class="header">
            <div class="header-top">
                <div class="header-title">
                    <p>–ü—Ä–∏–≤–µ—Ç! üëã</p>
                    <h1>–ß—Ç–æ –±—É–¥–µ–º –∑–∞–∫–∞–∑—ã–≤–∞—Ç—å?</h1>
                </div>
                <div class="notification-icon">üîî</div>
            </div>
            <div class="search-box">
                <span>üîç</span>
                <input type="text" placeholder="–ü–æ–∏—Å–∫ –±–ª—é–¥..." id="searchInput">
            </div>
        </div>

        <div class="categories" id="categories"></div>
        <div class="menu-grid" id="menuGrid"></div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div id="cartPage" class="page">
        <div class="header">
            <div class="header-top">
                <div class="header-title">
                    <h1>–ú–æ—è –∫–æ—Ä–∑–∏–Ω–∞</h1>
                    <p id="cartCount">0 —Ç–æ–≤–∞—Ä–æ–≤</p>
                </div>
            </div>
        </div>
        <div class="cart-list" id="cartList"></div>
        <div class="cart-total hidden" id="cartTotal">
            <div class="cart-total-row">
                <div>
                    <div class="cart-total-label">–ò—Ç–æ–≥–æ:</div>
                    <div class="cart-total-amount" id="totalAmount">0 ‚ÇΩ</div>
                </div>
                <div style="font-size: 48px;">üõçÔ∏è</div>
            </div>
            <button class="checkout-btn" onclick="showCheckoutModal()">
                –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
                <span>‚Üí</span>
            </button>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤ (–∞–¥–º–∏–Ω–∫–∞) -->
    <div id="ordersPage" class="page">
        <div class="header">
            <div class="header-top">
                <div class="header-title">
                    <h1>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h1>
                    <p id="ordersCount">–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤: 0</p>
                </div>
                <div class="notification-icon">üìä</div>
            </div>
        </div>
        <div class="admin-orders" id="ordersList"></div>
    </div>

    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="bottom-nav">
        <div class="nav-item active" onclick="showPage('menu')">
            <div class="nav-item-icon">üè†</div>
            <div class="nav-item-label">–ì–ª–∞–≤–Ω–∞—è</div>
        </div>
        <div class="nav-item" onclick="showPage('cart')">
            <div class="nav-item-icon">
                üõí
                <span class="nav-badge hidden" id="cartBadge">0</span>
            </div>
            <div class="nav-item-label">–ö–æ—Ä–∑–∏–Ω–∞</div>
        </div>
        <div class="nav-item" onclick="showPage('orders')">
            <div class="nav-item-icon">üìã</div>
            <div class="nav-item-label">–ó–∞–∫–∞–∑—ã</div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ -->
    <div class="modal" id="checkoutModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-icon">üçî</div>
                <div class="modal-title">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</div>
                <div class="modal-subtitle">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏</div>
            </div>
            <div class="input-group">
                <input type="text" id="customerName" placeholder="–í–∞—à–µ –∏–º—è">
            </div>
            <div class="input-group">
                <input type="tel" id="customerPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω">
            </div>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-cancel" onclick="closeCheckoutModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="modal-btn modal-btn-submit" onclick="placeOrder()">–ó–∞–∫–∞–∑–∞—Ç—å</button>
            </div>
        </div>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ –º–µ–Ω—é
        const menuItems = [
            {
                id: 1,
                name: '–ß–∏–∑–±—É—Ä–≥–µ—Ä –ü—Ä–µ–º–∏—É–º',
                price: 450,
                category: '–ë—É—Ä–≥–µ—Ä—ã',
                image: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=300',
                description: '–î–≤–æ–π–Ω–∞—è –≥–æ–≤—è–¥–∏–Ω–∞, —á–µ–¥–¥–µ—Ä, —Å–æ—É—Å BBQ',
                rating: 4.8
            },
            {
                id: 2,
                name: '–ë–∏–≥ –ë—É—Ä–≥–µ—Ä',
                price: 520,
                category: '–ë—É—Ä–≥–µ—Ä—ã',
                image: 'https://images.unsplash.com/photo-1550547660-d9450f859349?w=300',
                description: '–¢—Ä–æ–π–Ω–∞—è –∫–æ—Ç–ª–µ—Ç–∞, –±–µ–∫–æ–Ω, –ª—É–∫–æ–≤—ã–µ –∫–æ–ª—å—Ü–∞',
                rating: 4.9
            },
            {
                id: 3,
                name: '–§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è –ö–ª–∞—Å—Å–∏–∫',
                price: 480,
                category: '–°—É—à–∏',
                image: 'https://images.unsplash.com/photo-1579584425555-c3ce17fd4351?w=300',
                description: '–õ–æ—Å–æ—Å—å, —Å–ª–∏–≤–æ—á–Ω—ã–π —Å—ã—Ä, –∞–≤–æ–∫–∞–¥–æ',
                rating: 4.7
            },
            {
                id: 4,
                name: '–ó–∞–ø–µ—á–µ–Ω–Ω—ã–π —Ä–æ–ª–ª',
                price: 520,
                category: '–°—É—à–∏',
                image: 'https://images.unsplash.com/photo-1617196034796-73dfa7b1fd56?w=300',
                description: '–õ–æ—Å–æ—Å—å, —É–≥–æ—Ä—å, –æ—Å—Ç—Ä—ã–π —Å–æ—É—Å',
                rating: 4.9
            },
            {
                id: 5,
                name: '–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞ XXL',
                price: 650,
                category: '–ü–∏—Ü—Ü–∞',
                image: 'https://images.unsplash.com/photo-1604068549290-dea0e4a305ca?w=300',
                description: '–ú–æ—Ü–∞—Ä–µ–ª–ª–∞, —Ç–æ–º–∞—Ç—ã, –±–∞–∑–∏–ª–∏–∫, 35—Å–º',
                rating: 4.6
            },
            {
                id: 6,
                name: '–ú—è—Å–Ω–∞—è –ë–æ–º–±–∞',
                price: 750,
                category: '–ü–∏—Ü—Ü–∞',
                image: 'https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=300',
                description: '–ì–æ–≤—è–¥–∏–Ω–∞, –∫—É—Ä–∏—Ü–∞, –±–µ–∫–æ–Ω, –∫–æ–ª–±–∞—Å–∞',
                rating: 4.9
            },
            {
                id: 7,
                name: '–ö–∞–ø—É—á–∏–Ω–æ Deluxe',
                price: 220,
                category: '–ö–æ—Ñ–µ',
                image: 'https://images.unsplash.com/photo-1572442388796-11668a67e53d?w=300',
                description: '–î–≤–æ–π–Ω–æ–π —ç—Å–ø—Ä–µ—Å—Å–æ, –º–æ–ª–æ—á–Ω–∞—è –ø–µ–Ω–∫–∞',
                rating: 4.8
            },
            {
                id: 8,
                name: '–ê–π—Å –õ–∞—Ç—Ç–µ',
                price: 250,
                category: '–ö–æ—Ñ–µ',
                image: 'https://images.unsplash.com/photo-1517487881594-2787fef5ebf7?w=300',
                description: '–≠—Å–ø—Ä–µ—Å—Å–æ, –º–æ–ª–æ–∫–æ, –ª—ë–¥, –∫–∞—Ä–∞–º–µ–ª—å',
                rating: 4.7
            },
            {
                id: 9,
                name: '–ú–∏–ª–∫—à–µ–π–∫ –û—Ä–µ–æ',
                price: 280,
                category: '–ù–∞–ø–∏—Ç–∫–∏',
                image: 'https://images.unsplash.com/photo-1572490122747-3968b75cc699?w=300',
                description: '–í–∞–Ω–∏–ª—å–Ω–æ–µ –º–æ—Ä–æ–∂–µ–Ω–æ–µ, –ø–µ—á–µ–Ω—å–µ –û—Ä–µ–æ',
                rating: 4.9
            },
            {
                id: 10,
                name: '–¢–∏—Ä–∞–º–∏—Å—É',
                price: 350,
                category: '–î–µ—Å–µ—Ä—Ç—ã',
                image: 'https://images.unsplash.com/photo-1571877227200-a0d98ea607e9?w=300',
                description: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–π –¥–µ—Å–µ—Ä—Ç',
                rating: 4.8
            },
            {
                id: 11,
                name: '–ß–∏–∑–∫–µ–π–∫ NY',
                price: 320,
                category: '–î–µ—Å–µ—Ä—Ç—ã',
                image: 'https://images.unsplash.com/photo-1533134242820-b6c38c15a6a4?w=300',
                description: '–ù—å—é-–ô–æ—Ä–∫—Å–∫–∏–π —á–∏–∑–∫–µ–π–∫ —Å —è–≥–æ–¥–∞–º–∏',
                rating: 4.9
            }
        ];

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        let cart = [];
        let orders = [];
        let currentCategory = '–í—Å–µ';
        const categories = ['–í—Å–µ', '–ë—É—Ä–≥–µ—Ä—ã', '–°—É—à–∏', '–ü–∏—Ü—Ü–∞', '–ö–æ—Ñ–µ', '–ù–∞–ø–∏—Ç–∫–∏', '–î–µ—Å–µ—Ä—Ç—ã'];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            renderCategories();
            renderMenu();
            loadFromStorage();
            updateCartUI();
            updateOrdersUI();
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
        function saveToStorage() {
            localStorage.setItem('cart', JSON.stringify(cart));
            localStorage.setItem('orders', JSON.stringify(orders));
        }

        function loadFromStorage() {
            const savedCart = localStorage.getItem('cart');
            const savedOrders = localStorage.getItem('orders');
            if (savedCart) cart = JSON.parse(savedCart);
            if (savedOrders) orders = JSON.parse(savedOrders);
        }

        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        function renderCategories() {
            const container = document.getElementById('categories');
            container.innerHTML = categories.map(cat => `
                <button class="category-btn ${cat === currentCategory ? 'active' : ''}" 
                        onclick="selectCategory('${cat}')">
                    ${cat}
                </button>
            `).join('');
        }

        // –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        function selectCategory(category) {
            currentCategory = category;
            renderCategories();
            renderMenu();
        }

        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –º–µ–Ω—é
        function renderMenu() {
            const container = document.getElementById('menuGrid');
            const filtered = currentCategory === '–í—Å–µ' 
                ? menuItems 
                : menuItems.filter(item => item.category === currentCategory);

            if (filtered.length === 0) {
                container.innerHTML = '<div class="empty-state"><div class="empty-icon">üçΩÔ∏è</div><div class="empty-title">–ù–µ—Ç –±–ª—é–¥</div></div>';
                return;
            }

            container.innerHTML = filtered.map(item => `
                <div class="menu-item" onclick="addToCart(${item.id})">
                    <div style="position: relative;">
                        <img src="${item.image}" alt="${item.name}" class="menu-item-image">
                        <div class="menu-item-rating">‚≠ê ${item.rating}</div>
                    </div>
                    <div class="menu-item-info">
                        <div class="menu-item-name">${item.name}</div>
                        <div class="menu-item-description">${item.description}</div>
                        <div class="menu-item-footer">
                            <div class="menu-item-price">${item.price} ‚ÇΩ</div>
                            <button class="add-btn">+</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
        function addToCart(itemId) {
            const item = menuItems.find(i => i.id === itemId);
            const existingItem = cart.find(c => c.id === itemId);

            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ ...item, quantity: 1 });
            }

            saveToStorage();
            updateCartUI();
            showNotification('‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É');
        }

        // –û–±–Ω–æ–≤–∏—Ç—å UI –∫–æ—Ä–∑–∏–Ω—ã
        function updateCartUI() {
            const cartList = document.getElementById('cartList');
            const cartBadge = document.getElementById('cartBadge');
            const cartCount = document.getElementById('cartCount');
            const cartTotal = document.getElementById('cartTotal');
            const totalAmount = document.getElementById('totalAmount');

            const itemCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);

            // –û–±–Ω–æ–≤–∏—Ç—å –±–µ–π–¥–∂
            if (itemCount > 0) {
                cartBadge.textContent = itemCount;
                cartBadge.classList.remove('hidden');
            } else {
                cartBadge.classList.add('hidden');
            }

            cartCount.textContent = `${itemCount} ${itemCount === 1 ? '—Ç–æ–≤–∞—Ä' : '—Ç–æ–≤–∞—Ä–∞'}`;

            // –û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –∫–æ—Ä–∑–∏–Ω—É
            if (cart.length === 0) {
                cartList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üõí</div>
                        <div class="empty-title">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div>
                        <div class="empty-text">–î–æ–±–∞–≤—å—Ç–µ –≤–∫—É—Å–Ω—ã–µ –±–ª—é–¥–∞ –∏–∑ –º–µ–Ω—é</div>
                    </div>
                `;
                cartTotal.classList.add('hidden');
            } else {
                cartList.innerHTML = cart.map((item, index) => `
                    <div class="cart-item">
                        <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-price">${item.price} ‚ÇΩ</div>
                            <div class="cart-item-controls">
                                <button class="cart-item-btn" onclick="updateQuantity(${index}, -1)">‚àí</button>
                                <span style="font-weight: bold;">${item.quantity}</span>
                                <button class="cart-item-btn" onclick="updateQuantity(${index}, 1)">+</button>
                            </div>
                        </div>
                    </div>
                `).join('');
                cartTotal.classList.remove('hidden');
            }

            totalAmount.textContent = `${total} ‚ÇΩ`;
        }

        // –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
        function updateQuantity(index, delta) {
            cart[index].quantity += delta;
            if (cart[index].quantity <= 0) {
                cart.splice(index, 1);
            }
            saveToStorage();
            updateCartUI();
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
        function showCheckoutModal() {
            if (cart.length === 0) return;
            document.getElementById('checkoutModal').classList.add('active');
        }

        function closeCheckoutModal() {
            document.getElementById('checkoutModal').classList.remove('active');
        }

        // –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
        function placeOrder() {
            const name = document.getElementById('customerName').value.trim();
            const phone = document.getElementById('customerPhone').value.trim();

            if (!name || !phone) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
                return;
            }

            const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
            const order = {
                id: Date.now(),
                customer: { name, phone },
                items: [...cart],
                total: total,
                date: new Date().toISOString(),
                status: 'pending'
            };

            orders.push(order);
            
            // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ WhatsApp
            sendToWhatsApp(order);

            // –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
            cart = [];
            saveToStorage();
            updateCartUI();
            updateOrdersUI();
            
            closeCheckoutModal();
            showNotification('‚úÖ –ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω!');
            
            // –û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª—è
            document.getElementById('customerName').value = '';
            document.getElementById('customerPhone').value = '';
        }

        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ WhatsApp
        function sendToWhatsApp(order) {
            let message = `üçï *–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ #${order.id}*\n\n`;
            message += `üë§ –ö–ª–∏–µ–Ω—Ç: ${order.customer.name}\n`;
            message += `üìû –¢–µ–ª–µ—Ñ–æ–Ω: ${order.customer.phone}\n\n`;
            message += `üìã *–ó–∞–∫–∞–∑:*\n`;
            
            order.items.forEach(item => {
                message += `‚Ä¢ ${item.name} x${item.quantity} - ${item.price * item.quantity}‚ÇΩ\n`;
            });
            
            message += `\nüí∞ *–ò—Ç–æ–≥–æ: ${order.total}‚ÇΩ*`;
            
            const phoneNumber = '79899210202'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω–æ–º–µ—Ä —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
            const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
        }

        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É
        function sendStatusUpdate(order, status) {
            let message = '';
            
            switch (status) {
                case 'confirmed':
                    message = `‚úÖ *–í–∞—à –∑–∞–∫–∞–∑ #${order.id} –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω!*\n\n`;
                    message += '–ù–∞—á–∏–Ω–∞–µ–º –≥–æ—Ç–æ–≤–∏—Ç—å –≤–∞—à –∑–∞–∫–∞–∑.\n';
                    message += '–û–∂–∏–¥–∞–π—Ç–µ –ø—Ä–∏–º–µ—Ä–Ω–æ 30-40 –º–∏–Ω—É—Ç.';
                    break;
                case 'preparing':
                    message = `üë®‚Äçüç≥ *–í–∞—à –∑–∞–∫–∞–∑ #${order.id} –≥–æ—Ç–æ–≤–∏—Ç—Å—è!*\n\n`;
                    message += '–ù–∞—à–∏ –ø–æ–≤–∞—Ä–∞ —É–∂–µ –ø—Ä–∏—Å—Ç—É–ø–∏–ª–∏ –∫ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—é.\n';
                    message += '–°–∫–æ—Ä–æ –≤—Å—ë –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ!';
                    break;
                case 'ready':
                    message = `üéâ *–í–∞—à –∑–∞–∫–∞–∑ #${order.id} –≥–æ—Ç–æ–≤!*\n\n`;
                    message += '–ö—É—Ä—å–µ—Ä —É–∂–µ –≤ –ø—É—Ç–∏ –∫ –≤–∞–º.\n';
                    message += '–û–∂–∏–¥–∞–π—Ç–µ –¥–æ—Å—Ç–∞–≤–∫—É –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç.';
                    break;
                case 'delivered':
                    message = `‚ú® *–ó–∞–∫–∞–∑ #${order.id} –¥–æ—Å—Ç–∞–≤–ª–µ–Ω!*\n\n`;
                    message += '–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑!\n';
                    message += '–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∞–ø–ø–µ—Ç–∏—Ç–∞! üòä';
                    break;
                default:
                    return;
            }
            
            message += `\n\nüí∞ –°—É–º–º–∞: ${order.total}‚ÇΩ`;
            
            let phone = order.customer.phone.replace(/\D/g, '');
            if (!phone.startsWith('7')) {
                phone = '7' + phone;
            }
            
            const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
        }

        // –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
        function updateOrderStatus(orderId, newStatus) {
            const order = orders.find(o => o.id === orderId);
            if (order) {
                const oldStatus = order.status;
                order.status = newStatus;
                saveToStorage();
                updateOrdersUI();
                
                // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É
                if (oldStatus !== newStatus && newStatus !== 'pending') {
                    sendStatusUpdate(order, newStatus);
                }
            }
        }

        // –û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –∑–∞–∫–∞–∑—ã
        function updateOrdersUI() {
            const ordersList = document.getElementById('ordersList');
            const ordersCount = document.getElementById('ordersCount');
            
            ordersCount.textContent = `–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤: ${orders.length}`;

            if (orders.length === 0) {
                ordersList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üìã</div>
                        <div class="empty-title">–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</div>
                        <div class="empty-text">–ù–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å</div>
                    </div>
                `;
                return;
            }

            const statusLabels = {
                pending: '–ù–æ–≤—ã–π',
                confirmed: '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω',
                preparing: '–ì–æ—Ç–æ–≤–∏—Ç—Å—è',
                ready: '–ì–æ—Ç–æ–≤',
                delivered: '–î–æ—Å—Ç–∞–≤–ª–µ–Ω'
            };

            ordersList.innerHTML = [...orders].reverse().map((order, index) => `
                <div class="order-card">
                    <div class="order-header">
                        <div class="order-number">#${orders.length - index}</div>
                        <div class="order-info">
                            <div class="order-customer">${order.customer.name}</div>
                            <div class="order-total">${order.total} ‚ÇΩ</div>
                            <div class="order-status status-${order.status}">
                                ${statusLabels[order.status]}
                            </div>
                        </div>
                    </div>
                    <div class="order-details">
                        <div style="margin-bottom: 8px;">
                            üìû ${order.customer.phone}
                        </div>
                        <div style="margin-bottom: 12px;">
                            üïê ${new Date(order.date).toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' })}
                        </div>
                        <div style="font-weight: bold; margin-bottom: 8px;">–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:</div>
                        ${order.items.map(item => `
                            <div class="order-item">
                                <span>${item.name} √ó ${item.quantity}</span>
                                <span>${item.price * item.quantity} ‚ÇΩ</span>
                            </div>
                        `).join('')}
                        <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid #e0e0e0;">
                            <strong>–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å:</strong>
                        </div>
                        <div class="status-buttons">
                            <button class="status-btn ${order.status === 'pending' ? 'active' : ''}" 
                                    onclick="updateOrderStatus(${order.id}, 'pending')">
                                üïê –ù–æ–≤—ã–π
                            </button>
                            <button class="status-btn ${order.status === 'confirmed' ? 'active' : ''}" 
                                    onclick="updateOrderStatus(${order.id}, 'confirmed')">
                                ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω
                            </button>
                            <button class="status-btn ${order.status === 'preparing' ? 'active' : ''}" 
                                    onclick="updateOrderStatus(${order.id}, 'preparing')">
                                üë®‚Äçüç≥ –ì–æ—Ç–æ–≤–∏—Ç—Å—è
                            </button>
                            <button class="status-btn ${order.status === 'ready' ? 'active' : ''}" 
                                    onclick="updateOrderStatus(${order.id}, 'ready')">
                                üéâ –ì–æ—Ç–æ–≤
                            </button>
                            <button class="status-btn ${order.status === 'delivered' ? 'active' : ''}" 
                                    onclick="updateOrderStatus(${order.id}, 'delivered')">
                                ‚ú® –î–æ—Å—Ç–∞–≤–ª–µ–Ω
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü
        function showPage(pageName) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö nav-item
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            const pages = {
                menu: 'menuPage',
                cart: 'cartPage',
                orders: 'ordersPage'
            };

            document.getElementById(pages[pageName]).classList.add('active');

            // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π nav-item
            const navItems = document.querySelectorAll('.nav-item');
            const navIndex = { menu: 0, cart: 1, orders: 2 };
            navItems[navIndex[pageName]].classList.add('active');

            // –û–±–Ω–æ–≤–∏—Ç—å UI –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ
            if (pageName === 'cart') {
                updateCartUI();
            } else if (pageName === 'orders') {
                updateOrdersUI();
            }
        }

        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
                color: white;
                padding: 16px 24px;
                border-radius: 12px;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
                z-index: 9999;
                font-weight: bold;
                animation: slideDown 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideUp 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 2000);
        }

        // –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideDown {
                from { transform: translateX(-50%) translateY(-100%); opacity: 0; }
                to { transform: translateX(-50%) translateY(0); opacity: 1; }
            }
            @keyframes slideUp {
                from { transform: translateX(-50%) translateY(0); opacity: 1; }
                to { transform: translateX(-50%) translateY(-100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // –ü–æ–∏—Å–∫
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase();
            const filtered = menuItems.filter(item => 
                item.name.toLowerCase().includes(query) || 
                item.description.toLowerCase().includes(query)
            );
            
            const container = document.getElementById('menuGrid');
            if (filtered.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üîç</div>
                        <div class="empty-title">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>
                        <div class="empty-text">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –∑–∞–ø—Ä–æ—Å</div>
                    </div>
                `;
            } else {
                container.innerHTML = filtered.map(item => `
                    <div class="menu-item" onclick="addToCart(${item.id})">
                        <div style="position: relative;">
                            <img src="${item.image}" alt="${item.name}" class="menu-item-image">
                            <div class="menu-item-rating">‚≠ê ${item.rating}</div>
                        </div>
                        <div class="menu-item-info">
                            <div class="menu-item-name">${item.name}</div>
                            <div class="menu-item-description">${item.description}</div>
                            <div class="menu-item-footer">
                                <div class="menu-item-price">${item.price} ‚ÇΩ</div>
                                <button class="add-btn">+</button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
        });

        // Service Worker –¥–ª—è PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(reg => console.log('Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω'))
                    .catch(err => console.log('–û—à–∏–±–∫–∞ Service Worker:', err));
            });
        }

        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        init();
    </script>
</body>
</html>
